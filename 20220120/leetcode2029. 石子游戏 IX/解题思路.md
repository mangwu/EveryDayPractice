# leetcode2029

## 题目描述

Alice 和 Bob 再次设计了一款新的石子游戏。现有一行 n 个石子，每个石子都有一个关联的数字表示它的价值。给你一个整数数组 stones ，其中 stones[i] 是第 i 个石子的价值。

Alice 和 Bob 轮流进行自己的回合，Alice 先手。每一回合，玩家需要从 stones 中移除任一石子。

如果玩家移除石子后，导致 所有已移除石子 的价值 总和 可以被 3 整除，那么该玩家就 输掉游戏 。
如果不满足上一条，且移除后没有任何剩余的石子，那么 Bob 将会直接获胜（即便是在 Alice 的回合）。
假设两位玩家均采用 最佳 决策。如果 Alice 获胜，返回 true ；如果 Bob 获胜，返回 false 。
**示例 1：**

```输入：stones = [2,1]
输出：true
解释：游戏进行如下：
- 回合 1：Alice 可以移除任意一个石子。
- 回合 2：Bob 移除剩下的石子。 
已移除的石子的值总和为 1 + 2 = 3 且可以被 3 整除。因此，Bob 输，Alice 获胜。
```

## 题目分析

1. 求和值是否是3的倍数，实际上就是对数组中每个数求余数后，针对余数进行求和分析。
a.例如[14, 12, 8, 4]实际上和[2, 3, 2, 1]的结果是一致的
2. 针对每个余数有如下分析
a. 对于余数为0的数，它不会影响和数与3的关系（即和数mod3不变）
b. 对于余数为1的数，当sum mod 3 === 1时可选，初始时也可选
c. 对于余数为2的数。当sum mod 3 === 2时可选，初始时也可选
3. 余数和胜负关系的分析
a. 余数0的个数影响先后手关系，不影响合数的余数
  当余数0为偶数个（包括0），alice先手
  当余数0为奇数个，bob可以转化为先手
  因为当没有可选的余数为1或2的数时，可以选余数为0的让对方选
  偶数个余数0，相当于0个余数0的结果
  奇数个余数0，相当于1个余数0的结果
4. 当前一个人为先手，它可以选中从1开始也可以从2开始
  a.从1开始的情况：1121212121212...
    + 这种情况下，除了先手的人除了第一次使用1，后面都使用2
    + 后手的人，每次都使用1
    + 只要保证在至少有1个余数为1的情况下，2的个数不少于1先手即可获胜
  
    b.从2开始的情况：221212121212...
    + 这种情况下，先手的人除了第一次使用2，后面都使用1
    + 后手的人每次都使用2
    + 只要保证在至少有一个余数为2的情况，1的个数不少于2，先手即可获胜
5. 综合以下：
a. 当余数为偶数，alice先手，余数1和余数2都大于等于1，alice即可获胜
b. 当余数为奇数,  bob先手，根据上述的分析，alice想要赢，有1 121211 或者2 212122； 即alice先取一个1或者2，然后每次都下相同的，当其中一个余数的个数必另一个至少多3个时才alice才能赢
